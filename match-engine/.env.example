# Match Engine Environment Variables
# Copy this file to .env and fill in the values

# Server Configuration
PORT=7000
NODE_ENV=production

# Backend URL (for fetching default collection and pushing infrastructure)
BACKEND_URL=http://localhost:3000

# Security Configuration
# Shared secret for backend <-> match-engine authentication (must match backend)
MATCH_ENGINE_SECRET=generate-a-strong-random-secret-here

# Comma-separated list of allowed backend IPs (optional, for IP whitelisting)
# Example: 127.0.0.1,10.0.0.5
ALLOWED_BACKEND_IPS=127.0.0.1

# Docker Configuration
# Docker client will use default Docker socket
# On Windows: Docker Desktop must be running
# On Linux: Docker daemon must be running

# Flag System (required for flag validation)
# Engine-only secret for HMAC; never expose or log.
FLAG_SECRET=

# Resource caps (reject gracefully when exceeded)
MAX_CONCURRENT_MATCHES=50
FLAG_SUBMIT_RATE_MAX=30

# Safety cron (reclaim orphan/aged resources)
MAX_CONTAINER_AGE_HOURS=4
MAX_MATCH_DURATION_HOURS=3
SAFETY_CRON_INTERVAL_MS=2700000
